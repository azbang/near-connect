var In=Object.defineProperty;var An=(me,pe,ve)=>pe in me?In(me,pe,{enumerable:!0,configurable:!0,writable:!0,value:ve}):me[pe]=ve;var ye=(me,pe,ve)=>An(me,typeof pe!="symbol"?pe+"":pe,ve);(function(){"use strict";var me;(function(r){r.Transaction="transaction",r.Receipt="receipt"})(me||(me={}));var pe;(function(r){r.Unknown="Unknown",r.Pending="Pending",r.Failure="Failure"})(pe||(pe={}));var ve;(function(r){r.NotStarted="NotStarted",r.Started="Started",r.Failure="Failure"})(ve||(ve={}));var q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jt(r){if(r.__esModule)return r;var n=r.default;if(typeof n=="function"){var o=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(r).forEach(function(a){var c=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(o,a,c.get?c:{enumerable:!0,get:function(){return r[a]}})}),o}var $e={exports:{}};(function(r,n){(function(o,a){r.exports=a()})(q,function(){/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var o=Object.prototype.toString,a=Array.isArray||function(C){return o.call(C)==="[object Array]"};function c(L){return typeof L=="function"}function l(L){return a(L)?"array":typeof L}function d(L){return L.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(L,C){return L!=null&&typeof L=="object"&&C in L}function m(L,C){return L!=null&&typeof L!="object"&&L.hasOwnProperty&&L.hasOwnProperty(C)}var I=RegExp.prototype.test;function E(L,C){return I.call(L,C)}var v=/\S/;function b(L){return!E(v,L)}var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function g(L){return String(L).replace(/[&<>"'`=\/]/g,function(B){return p[B]})}var h=/\s*/,x=/\s+/,y=/\s*=/,w=/\s*\}/,P=/#|\^|\/|>|\{|&|=|!/;function R(L,C){if(!L)return[];var B=!1,D=[],M=[],T=[],_=!1,S=!1,k="",F=0;function j(){if(_&&!S)for(;T.length;)delete M[T.pop()];else T=[];_=!1,S=!1}var U,ee,se;function W(i){if(typeof i=="string"&&(i=i.split(x,2)),!a(i)||i.length!==2)throw new Error("Invalid tags: "+i);U=new RegExp(d(i[0])+"\\s*"),ee=new RegExp("\\s*"+d(i[1])),se=new RegExp("\\s*"+d("}"+i[1]))}W(C||Z.tags);for(var J=new K(L),ae,te,re,fe,ue,X;!J.eos();){if(ae=J.pos,re=J.scanUntil(U),re)for(var we=0,Ze=re.length;we<Ze;++we)fe=re.charAt(we),b(fe)?(T.push(M.length),k+=fe):(S=!0,B=!0,k+=" "),M.push(["text",fe,ae,ae+1]),ae+=1,fe===`
`&&(j(),k="",F=0,B=!1);if(!J.scan(U))break;if(_=!0,te=J.scan(P)||"name",J.scan(h),te==="="?(re=J.scanUntil(y),J.scan(y),J.scanUntil(ee)):te==="{"?(re=J.scanUntil(se),J.scan(w),J.scanUntil(ee),te="&"):re=J.scanUntil(ee),!J.scan(ee))throw new Error("Unclosed tag at "+J.pos);if(te==">"?ue=[te,re,ae,J.pos,k,F,B]:ue=[te,re,ae,J.pos],F++,M.push(ue),te==="#"||te==="^")D.push(ue);else if(te==="/"){if(X=D.pop(),!X)throw new Error('Unopened section "'+re+'" at '+ae);if(X[1]!==re)throw new Error('Unclosed section "'+X[1]+'" at '+ae)}else te==="name"||te==="{"||te==="&"?S=!0:te==="="&&W(re)}if(j(),X=D.pop(),X)throw new Error('Unclosed section "'+X[1]+'" at '+J.pos);return z(O(M))}function O(L){for(var C=[],B,D,M=0,T=L.length;M<T;++M)B=L[M],B&&(B[0]==="text"&&D&&D[0]==="text"?(D[1]+=B[1],D[3]=B[3]):(C.push(B),D=B));return C}function z(L){for(var C=[],B=C,D=[],M,T,_=0,S=L.length;_<S;++_)switch(M=L[_],M[0]){case"#":case"^":B.push(M),D.push(M),B=M[4]=[];break;case"/":T=D.pop(),T[5]=M[2],B=D.length>0?D[D.length-1][4]:C;break;default:B.push(M)}return C}function K(L){this.string=L,this.tail=L,this.pos=0}K.prototype.eos=function(){return this.tail===""},K.prototype.scan=function(C){var B=this.tail.match(C);if(!B||B.index!==0)return"";var D=B[0];return this.tail=this.tail.substring(D.length),this.pos+=D.length,D},K.prototype.scanUntil=function(C){var B=this.tail.search(C),D;switch(B){case-1:D=this.tail,this.tail="";break;case 0:D="";break;default:D=this.tail.substring(0,B),this.tail=this.tail.substring(B)}return this.pos+=D.length,D};function V(L,C){this.view=L,this.cache={".":this.view},this.parent=C}V.prototype.push=function(C){return new V(C,this)},V.prototype.lookup=function(C){var B=this.cache,D;if(B.hasOwnProperty(C))D=B[C];else{for(var M=this,T,_,S,k=!1;M;){if(C.indexOf(".")>0)for(T=M.view,_=C.split("."),S=0;T!=null&&S<_.length;)S===_.length-1&&(k=s(T,_[S])||m(T,_[S])),T=T[_[S++]];else T=M.view[C],k=s(M.view,C);if(k){D=T;break}M=M.parent}B[C]=D}return c(D)&&(D=D.call(this.view)),D};function Q(){this.templateCache={_cache:{},set:function(C,B){this._cache[C]=B},get:function(C){return this._cache[C]},clear:function(){this._cache={}}}}Q.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},Q.prototype.parse=function(C,B){var D=this.templateCache,M=C+":"+(B||Z.tags).join(":"),T=typeof D<"u",_=T?D.get(M):void 0;return _==null&&(_=R(C,B),T&&D.set(M,_)),_},Q.prototype.render=function(C,B,D,M){var T=this.parse(C,M),_=B instanceof V?B:new V(B,void 0);return this.renderTokens(T,_,D,C,M)},Q.prototype.renderTokens=function(C,B,D,M,T){for(var _="",S,k,F,j=0,U=C.length;j<U;++j)F=void 0,S=C[j],k=S[0],k==="#"?F=this.renderSection(S,B,D,M):k==="^"?F=this.renderInverted(S,B,D,M):k===">"?F=this.renderPartial(S,B,D,T):k==="&"?F=this.unescapedValue(S,B):k==="name"?F=this.escapedValue(S,B):k==="text"&&(F=this.rawValue(S)),F!==void 0&&(_+=F);return _},Q.prototype.renderSection=function(C,B,D,M){var T=this,_="",S=B.lookup(C[1]);function k(U){return T.render(U,B,D)}if(S){if(a(S))for(var F=0,j=S.length;F<j;++F)_+=this.renderTokens(C[4],B.push(S[F]),D,M);else if(typeof S=="object"||typeof S=="string"||typeof S=="number")_+=this.renderTokens(C[4],B.push(S),D,M);else if(c(S)){if(typeof M!="string")throw new Error("Cannot use higher-order sections without the original template");S=S.call(B.view,M.slice(C[3],C[5]),k),S!=null&&(_+=S)}else _+=this.renderTokens(C[4],B,D,M);return _}},Q.prototype.renderInverted=function(C,B,D,M){var T=B.lookup(C[1]);if(!T||a(T)&&T.length===0)return this.renderTokens(C[4],B,D,M)},Q.prototype.indentPartial=function(C,B,D){for(var M=B.replace(/[^ \t]/g,""),T=C.split(`
`),_=0;_<T.length;_++)T[_].length&&(_>0||!D)&&(T[_]=M+T[_]);return T.join(`
`)},Q.prototype.renderPartial=function(C,B,D,M){if(D){var T=c(D)?D(C[1]):D[C[1]];if(T!=null){var _=C[6],S=C[5],k=C[4],F=T;return S==0&&k&&(F=this.indentPartial(T,k,_)),this.renderTokens(this.parse(F,M),B,D,F)}}},Q.prototype.unescapedValue=function(C,B){var D=B.lookup(C[1]);if(D!=null)return D},Q.prototype.escapedValue=function(C,B){var D=B.lookup(C[1]);if(D!=null)return Z.escape(D)},Q.prototype.rawValue=function(C){return C[1]};var Z={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(L){de.templateCache=L},get templateCache(){return de.templateCache}},de=new Q;return Z.clearCache=function(){return de.clearCache()},Z.parse=function(C,B){return de.parse(C,B)},Z.render=function(C,B,D,M){if(typeof C!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+l(C)+'" was given as the first argument for mustache#render(template, view, partials)');return de.render(C,B,D,M)},Z.escape=g,Z.Scanner=K,Z.Context=V,Z.Writer=Q,Z})})($e);var qt=$e.exports;/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zt(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function et(r,n){return Array.isArray(n)?n.length===0?!0:r?n.every(o=>typeof o=="string"):n.every(o=>Number.isSafeInteger(o)):!1}function Pe(r,n){if(typeof n!="string")throw new Error(`${r}: string expected`);return!0}function tt(r){if(!Number.isSafeInteger(r))throw new Error(`invalid integer: ${r}`)}function Ue(r){if(!Array.isArray(r))throw new Error("array expected")}function rt(r,n){if(!et(!0,n))throw new Error(`${r}: array of strings expected`)}function Ht(r,n){if(!et(!1,n))throw new Error(`${r}: array of numbers expected`)}function Wt(...r){const n=l=>l,o=(l,d)=>s=>l(d(s)),a=r.map(l=>l.encode).reduceRight(o,n),c=r.map(l=>l.decode).reduce(o,n);return{encode:a,decode:c}}function Gt(r){const n=typeof r=="string"?r.split(""):r,o=n.length;rt("alphabet",n);const a=new Map(n.map((c,l)=>[c,l]));return{encode:c=>(Ue(c),c.map(l=>{if(!Number.isSafeInteger(l)||l<0||l>=o)throw new Error(`alphabet.encode: digit index outside alphabet "${l}". Allowed: ${r}`);return n[l]})),decode:c=>(Ue(c),c.map(l=>{Pe("alphabet.decode",l);const d=a.get(l);if(d===void 0)throw new Error(`Unknown letter: "${l}". Allowed: ${r}`);return d}))}}function Kt(r=""){return Pe("join",r),{encode:n=>(rt("join.decode",n),n.join(r)),decode:n=>(Pe("join.decode",n),n.split(r))}}function nt(r,n,o){if(n<2)throw new Error(`convertRadix: invalid from=${n}, base cannot be less than 2`);if(o<2)throw new Error(`convertRadix: invalid to=${o}, base cannot be less than 2`);if(Ue(r),!r.length)return[];let a=0;const c=[],l=Array.from(r,s=>{if(tt(s),s<0||s>=n)throw new Error(`invalid integer: ${s}`);return s}),d=l.length;for(;;){let s=0,m=!0;for(let I=a;I<d;I++){const E=l[I],v=n*s,b=v+E;if(!Number.isSafeInteger(b)||v/n!==s||b-E!==v)throw new Error("convertRadix: carry overflow");const p=b/o;s=b%o;const g=Math.floor(p);if(l[I]=g,!Number.isSafeInteger(g)||g*o+s!==b)throw new Error("convertRadix: carry overflow");if(m)g?m=!1:a=I;else continue}if(c.push(s),m)break}for(let s=0;s<r.length-1&&r[s]===0;s++)c.push(0);return c.reverse()}function Vt(r){tt(r);const n=2**8;return{encode:o=>{if(!zt(o))throw new Error("radix.encode input should be Uint8Array");return nt(Array.from(o),n,r)},decode:o=>(Ht("radix.decode",o),Uint8Array.from(nt(o,r,n)))}}const Qt=(r=>Wt(Vt(58),Gt(r),Kt("")))("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");10n**BigInt(24);function Jt(r){if(typeof r=="string"){const n=[];for(let o=0;o<r.length;o++)n.push(r.charCodeAt(o));r=new Uint8Array(n)}return Qt.encode(r)}/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Yt=Xt;function Xt(r){if(!r)throw new TypeError("argument namespace is required");function n(o){}return n._file=void 0,n._ignored=!0,n._namespace=r,n._traced=!1,n._warned=Object.create(null),n.function=Zt,n.property=$t,n}function Zt(r,n){if(typeof r!="function")throw new TypeError("argument fn must be a function");return r}function $t(r,n,o){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("argument obj must be object");var a=Object.getOwnPropertyDescriptor(r,n);if(!a)throw new TypeError("must call property on owner object");if(!a.configurable)throw new TypeError("property must be configurable")}var ot={},it={},je={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.HereProviderError=r.HereProviderStatus=void 0,function(o){o[o.APPROVING=1]="APPROVING",o[o.FAILED=2]="FAILED",o[o.SUCCESS=3]="SUCCESS"}(r.HereProviderStatus||(r.HereProviderStatus={}));class n extends Error{constructor(a,c){super(a??(c==null?void 0:c.message)),this.payload=a,this.parentError=c}}r.HereProviderError=n})(je);var at={},st={exports:{}},ut={exports:{}};(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(o,a){return o<<a|o>>>32-a},rotr:function(o,a){return o<<32-a|o>>>a},endian:function(o){if(o.constructor==Number)return n.rotl(o,8)&16711935|n.rotl(o,24)&4278255360;for(var a=0;a<o.length;a++)o[a]=n.endian(o[a]);return o},randomBytes:function(o){for(var a=[];o>0;o--)a.push(Math.floor(Math.random()*256));return a},bytesToWords:function(o){for(var a=[],c=0,l=0;c<o.length;c++,l+=8)a[l>>>5]|=o[c]<<24-l%32;return a},wordsToBytes:function(o){for(var a=[],c=0;c<o.length*32;c+=8)a.push(o[c>>>5]>>>24-c%32&255);return a},bytesToHex:function(o){for(var a=[],c=0;c<o.length;c++)a.push((o[c]>>>4).toString(16)),a.push((o[c]&15).toString(16));return a.join("")},hexToBytes:function(o){for(var a=[],c=0;c<o.length;c+=2)a.push(parseInt(o.substr(c,2),16));return a},bytesToBase64:function(o){for(var a=[],c=0;c<o.length;c+=3)for(var l=o[c]<<16|o[c+1]<<8|o[c+2],d=0;d<4;d++)c*8+d*6<=o.length*8?a.push(r.charAt(l>>>6*(3-d)&63)):a.push("=");return a.join("")},base64ToBytes:function(o){o=o.replace(/[^A-Z0-9+\/]/ig,"");for(var a=[],c=0,l=0;c<o.length;l=++c%4)l!=0&&a.push((r.indexOf(o.charAt(c-1))&Math.pow(2,-2*l+8)-1)<<l*2|r.indexOf(o.charAt(c))>>>6-l*2);return a}};ut.exports=n})();var er=ut.exports,qe={utf8:{stringToBytes:function(r){return qe.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(qe.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var n=[],o=0;o<r.length;o++)n.push(r.charCodeAt(o)&255);return n},bytesToString:function(r){for(var n=[],o=0;o<r.length;o++)n.push(String.fromCharCode(r[o]));return n.join("")}}},ct=qe;(function(){var r=er,n=ct.utf8,o=ct.bin,a=function(l){l.constructor==String?l=n.stringToBytes(l):typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(l)?l=Array.prototype.slice.call(l,0):Array.isArray(l)||(l=l.toString());var d=r.bytesToWords(l),s=l.length*8,m=[],I=1732584193,E=-271733879,v=-1732584194,b=271733878,p=-1009589776;d[s>>5]|=128<<24-s%32,d[(s+64>>>9<<4)+15]=s;for(var g=0;g<d.length;g+=16){for(var h=I,x=E,y=v,w=b,P=p,R=0;R<80;R++){if(R<16)m[R]=d[g+R];else{var O=m[R-3]^m[R-8]^m[R-14]^m[R-16];m[R]=O<<1|O>>>31}var z=(I<<5|I>>>27)+p+(m[R]>>>0)+(R<20?(E&v|~E&b)+1518500249:R<40?(E^v^b)+1859775393:R<60?(E&v|E&b|v&b)-1894007588:(E^v^b)-899497514);p=b,b=v,v=E<<30|E>>>2,E=I,I=z}I+=h,E+=x,v+=y,b+=w,p+=P}return[I,E,v,b,p]},c=function(l,d){var s=r.wordsToBytes(a(l));return d&&d.asBytes?s:d&&d.asString?o.bytesToString(s):r.bytesToHex(s)};c._blocksize=16,c._digestsize=20,st.exports=c})();var tr=st.exports;const rr=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function lt(r){return rr.test(r)}function ze(){var r=URL.createObjectURL(new Blob),n=r.toString();return URL.revokeObjectURL(r),n.split(/[:\/]/g).pop().toLowerCase()}ze.valid=lt;const dt=jt(Object.freeze(Object.defineProperty({__proto__:null,default:ze,uuid4:ze,valid:lt},Symbol.toStringTag,{value:"Module"})));var ft={},Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.DEFAULT_FUNCTION_CALL_GAS=void 0,Me.DEFAULT_FUNCTION_CALL_GAS=BigInt("30000000000000");var He={},Te={},Ne={},Se={},Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.ConsoleLogger=void 0;class nr{constructor(n){this.logLevels=n,this.isLevelEnabled=o=>this.logLevels.includes(o)}print(n,o,...a){switch(n){case"error":case"fatal":return console.error(o,...a);case"warn":return console.warn(o,...a);case"log":return console.log(o,...a);case"debug":case"verbose":return console.debug(o,...a)}}verbose(n,...o){this.isLevelEnabled("verbose")&&this.print("verbose",n,...o)}debug(n,...o){this.isLevelEnabled("debug")&&this.print("debug",n,...o)}log(n,...o){this.isLevelEnabled("log")&&this.print("log",n,...o)}warn(n,...o){this.isLevelEnabled("warn")&&this.print("warn",n,...o)}error(n,...o){this.isLevelEnabled("error")&&this.print("error",n,...o)}fatal(n,...o){this.isLevelEnabled("fatal")&&this.print("fatal",n,...o)}}Re.ConsoleLogger=nr;var or={},pt;Object.defineProperty(Se,"__esModule",{value:!0}),Se.Logger=void 0;const ir=Re,ar=["verbose","debug","log","warn","error","fatal"],sr=typeof process=="object"&&or.NEAR_NO_LOGS?void 0:new ir.ConsoleLogger(ar);class Ce{static error(n,...o){var a;(a=this.instanceRef)===null||a===void 0||a.error(n,...o)}static log(n,...o){var a;(a=this.instanceRef)===null||a===void 0||a.log(n,...o)}static warn(n,...o){var a;(a=this.instanceRef)===null||a===void 0||a.warn(n,...o)}static debug(n,...o){var a,c;(c=(a=this.instanceRef)===null||a===void 0?void 0:a.debug)===null||c===void 0||c.call(a,n,...o)}static verbose(n,...o){var a,c;(c=(a=this.instanceRef)===null||a===void 0?void 0:a.verbose)===null||c===void 0||c.call(a,n,...o)}static fatal(n,...o){var a,c;(c=(a=this.instanceRef)===null||a===void 0?void 0:a.fatal)===null||c===void 0||c.call(a,n,...o)}}Se.Logger=Ce,pt=Ce,Ce.instanceRef=sr,Ce.overrideLogger=r=>{pt.instanceRef=r},function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Logger=void 0;var n=Se;Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return n.Logger}})}(Ne),Object.defineProperty(Te,"__esModule",{value:!0}),Te.logWarning=void 0;const ur=Ne;function cr(...r){const[n,...o]=r;ur.Logger.warn(n,...o)}Te.logWarning=cr;var ce={},ht={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.Assignable=void 0;class lr{constructor(n){Object.keys(n).map(o=>{this[o]=n[o]})}}Fe.Assignable=lr;var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.ErrorContext=he.TypedError=he.ArgumentTypeError=he.PositionalArgsError=void 0;class dr extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}he.PositionalArgsError=dr;class fr extends Error{constructor(n,o,a){super(`Expected ${o} for '${n}' argument, but got '${JSON.stringify(a)}'`)}}he.ArgumentTypeError=fr;class pr extends Error{constructor(n,o,a){super(n),this.type=o||"UntypedError",this.context=a}}he.TypedError=pr;class hr{constructor(n){this.transactionHash=n}}he.ErrorContext=hr;var gt={},yt={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.IdType=void 0,function(n){n.Transaction="transaction",n.Receipt="receipt"}(r.IdType||(r.IdType={}))})(yt);var mt={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.FinalExecutionStatusBasic=r.ExecutionStatusBasic=void 0,function(n){n.Unknown="Unknown",n.Pending="Pending",n.Failure="Failure"}(r.ExecutionStatusBasic||(r.ExecutionStatusBasic={})),function(n){n.NotStarted="NotStarted",n.Started="Started",n.Failure="Failure"}(r.FinalExecutionStatusBasic||(r.FinalExecutionStatusBasic={}))})(mt),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.FinalExecutionStatusBasic=r.ExecutionStatusBasic=r.IdType=void 0;var n=yt;Object.defineProperty(r,"IdType",{enumerable:!0,get:function(){return n.IdType}});var o=mt;Object.defineProperty(r,"ExecutionStatusBasic",{enumerable:!0,get:function(){return o.ExecutionStatusBasic}}),Object.defineProperty(r,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return o.FinalExecutionStatusBasic}})}(gt),function(r){var n=q&&q.__createBinding||(Object.create?function(a,c,l,d){d===void 0&&(d=l);var s=Object.getOwnPropertyDescriptor(c,l);(!s||("get"in s?!c.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(a,d,s)}:function(a,c,l,d){d===void 0&&(d=l),a[d]=c[l]}),o=q&&q.__exportStar||function(a,c){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&n(c,a,l)};Object.defineProperty(r,"__esModule",{value:!0}),o(Fe,r),o(he,r),o(gt,r)}(ht);var We={},Ge={exports:{}},vt={},Be={};Be.byteLength=mr,Be.toByteArray=wr,Be.fromByteArray=Ir;for(var ge=[],le=[],gr=typeof Uint8Array<"u"?Uint8Array:Array,Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ee=0,yr=Ke.length;Ee<yr;++Ee)ge[Ee]=Ke[Ee],le[Ke.charCodeAt(Ee)]=Ee;le[45]=62,le[95]=63;function wt(r){var n=r.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=r.indexOf("=");o===-1&&(o=n);var a=o===n?0:4-o%4;return[o,a]}function mr(r){var n=wt(r),o=n[0],a=n[1];return(o+a)*3/4-a}function vr(r,n,o){return(n+o)*3/4-o}function wr(r){var n,o=wt(r),a=o[0],c=o[1],l=new gr(vr(r,a,c)),d=0,s=c>0?a-4:a,m;for(m=0;m<s;m+=4)n=le[r.charCodeAt(m)]<<18|le[r.charCodeAt(m+1)]<<12|le[r.charCodeAt(m+2)]<<6|le[r.charCodeAt(m+3)],l[d++]=n>>16&255,l[d++]=n>>8&255,l[d++]=n&255;return c===2&&(n=le[r.charCodeAt(m)]<<2|le[r.charCodeAt(m+1)]>>4,l[d++]=n&255),c===1&&(n=le[r.charCodeAt(m)]<<10|le[r.charCodeAt(m+1)]<<4|le[r.charCodeAt(m+2)]>>2,l[d++]=n>>8&255,l[d++]=n&255),l}function Er(r){return ge[r>>18&63]+ge[r>>12&63]+ge[r>>6&63]+ge[r&63]}function br(r,n,o){for(var a,c=[],l=n;l<o;l+=3)a=(r[l]<<16&16711680)+(r[l+1]<<8&65280)+(r[l+2]&255),c.push(Er(a));return c.join("")}function Ir(r){for(var n,o=r.length,a=o%3,c=[],l=16383,d=0,s=o-a;d<s;d+=l)c.push(br(r,d,d+l>s?s:d+l));return a===1?(n=r[o-1],c.push(ge[n>>2]+ge[n<<4&63]+"==")):a===2&&(n=(r[o-2]<<8)+r[o-1],c.push(ge[n>>10]+ge[n>>4&63]+ge[n<<2&63]+"=")),c.join("")}var Ve={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ve.read=function(r,n,o,a,c){var l,d,s=c*8-a-1,m=(1<<s)-1,I=m>>1,E=-7,v=o?c-1:0,b=o?-1:1,p=r[n+v];for(v+=b,l=p&(1<<-E)-1,p>>=-E,E+=s;E>0;l=l*256+r[n+v],v+=b,E-=8);for(d=l&(1<<-E)-1,l>>=-E,E+=a;E>0;d=d*256+r[n+v],v+=b,E-=8);if(l===0)l=1-I;else{if(l===m)return d?NaN:(p?-1:1)*(1/0);d=d+Math.pow(2,a),l=l-I}return(p?-1:1)*d*Math.pow(2,l-a)},Ve.write=function(r,n,o,a,c,l){var d,s,m,I=l*8-c-1,E=(1<<I)-1,v=E>>1,b=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:l-1,g=a?1:-1,h=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(s=isNaN(n)?1:0,d=E):(d=Math.floor(Math.log(n)/Math.LN2),n*(m=Math.pow(2,-d))<1&&(d--,m*=2),d+v>=1?n+=b/m:n+=b*Math.pow(2,1-v),n*m>=2&&(d++,m/=2),d+v>=E?(s=0,d=E):d+v>=1?(s=(n*m-1)*Math.pow(2,c),d=d+v):(s=n*Math.pow(2,v-1)*Math.pow(2,c),d=0));c>=8;r[o+p]=s&255,p+=g,s/=256,c-=8);for(d=d<<c|s,I+=c;I>0;r[o+p]=d&255,p+=g,d/=256,I-=8);r[o+p-g]|=h*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){var n=Be,o=Ve,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=s,r.SlowBuffer=w,r.INSPECT_MAX_BYTES=50;var c=2147483647;r.kMaxLength=c,s.TYPED_ARRAY_SUPPORT=l(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{var i=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(i,e),i.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function d(i){if(i>c)throw new RangeError('The value "'+i+'" is invalid for option "size"');var e=new Uint8Array(i);return Object.setPrototypeOf(e,s.prototype),e}function s(i,e,t){if(typeof i=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(i)}return m(i,e,t)}s.poolSize=8192;function m(i,e,t){if(typeof i=="string")return b(i,e);if(ArrayBuffer.isView(i))return g(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(X(i,ArrayBuffer)||i&&X(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(X(i,SharedArrayBuffer)||i&&X(i.buffer,SharedArrayBuffer)))return h(i,e,t);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var u=i.valueOf&&i.valueOf();if(u!=null&&u!==i)return s.from(u,e,t);var f=x(i);if(f)return f;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return s.from(i[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}s.from=function(i,e,t){return m(i,e,t)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function I(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function E(i,e,t){return I(i),i<=0?d(i):e!==void 0?typeof t=="string"?d(i).fill(e,t):d(i).fill(e):d(i)}s.alloc=function(i,e,t){return E(i,e,t)};function v(i){return I(i),d(i<0?0:y(i)|0)}s.allocUnsafe=function(i){return v(i)},s.allocUnsafeSlow=function(i){return v(i)};function b(i,e){if((typeof e!="string"||e==="")&&(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=P(i,e)|0,u=d(t),f=u.write(i,e);return f!==t&&(u=u.slice(0,f)),u}function p(i){for(var e=i.length<0?0:y(i.length)|0,t=d(e),u=0;u<e;u+=1)t[u]=i[u]&255;return t}function g(i){if(X(i,Uint8Array)){var e=new Uint8Array(i);return h(e.buffer,e.byteOffset,e.byteLength)}return p(i)}function h(i,e,t){if(e<0||i.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var u;return e===void 0&&t===void 0?u=new Uint8Array(i):t===void 0?u=new Uint8Array(i,e):u=new Uint8Array(i,e,t),Object.setPrototypeOf(u,s.prototype),u}function x(i){if(s.isBuffer(i)){var e=y(i.length)|0,t=d(e);return t.length===0||i.copy(t,0,0,e),t}if(i.length!==void 0)return typeof i.length!="number"||we(i.length)?d(0):p(i);if(i.type==="Buffer"&&Array.isArray(i.data))return p(i.data)}function y(i){if(i>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return i|0}function w(i){return+i!=i&&(i=0),s.alloc(+i)}s.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==s.prototype},s.compare=function(e,t){if(X(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var u=e.length,f=t.length,A=0,N=Math.min(u,f);A<N;++A)if(e[A]!==t[A]){u=e[A],f=t[A];break}return u<f?-1:f<u?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return s.alloc(0);var u;if(t===void 0)for(t=0,u=0;u<e.length;++u)t+=e[u].length;var f=s.allocUnsafe(t),A=0;for(u=0;u<e.length;++u){var N=e[u];if(X(N,Uint8Array))A+N.length>f.length?s.from(N).copy(f,A):Uint8Array.prototype.set.call(f,N,A);else if(s.isBuffer(N))N.copy(f,A);else throw new TypeError('"list" argument must be an Array of Buffers');A+=N.length}return f};function P(i,e){if(s.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||X(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);var t=i.length,u=arguments.length>2&&arguments[2]===!0;if(!u&&t===0)return 0;for(var f=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return ae(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return fe(i).length;default:if(f)return u?-1:ae(i).length;e=(""+e).toLowerCase(),f=!0}}s.byteLength=P;function R(i,e,t){var u=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(i||(i="utf8");;)switch(i){case"hex":return S(this,e,t);case"utf8":case"utf-8":return B(this,e,t);case"ascii":return T(this,e,t);case"latin1":case"binary":return _(this,e,t);case"base64":return C(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t);default:if(u)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),u=!0}}s.prototype._isBuffer=!0;function O(i,e,t){var u=i[e];i[e]=i[t],i[t]=u}s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)O(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)O(this,t,t+3),O(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)O(this,t,t+7),O(this,t+1,t+6),O(this,t+2,t+5),O(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?B(this,0,e):R.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:s.compare(this,e)===0},s.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(e,t,u,f,A){if(X(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),u===void 0&&(u=e?e.length:0),f===void 0&&(f=0),A===void 0&&(A=this.length),t<0||u>e.length||f<0||A>this.length)throw new RangeError("out of range index");if(f>=A&&t>=u)return 0;if(f>=A)return-1;if(t>=u)return 1;if(t>>>=0,u>>>=0,f>>>=0,A>>>=0,this===e)return 0;for(var N=A-f,H=u-t,G=Math.min(N,H),Y=this.slice(f,A),ne=e.slice(t,u),$=0;$<G;++$)if(Y[$]!==ne[$]){N=Y[$],H=ne[$];break}return N<H?-1:H<N?1:0};function z(i,e,t,u,f){if(i.length===0)return-1;if(typeof t=="string"?(u=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,we(t)&&(t=f?0:i.length-1),t<0&&(t=i.length+t),t>=i.length){if(f)return-1;t=i.length-1}else if(t<0)if(f)t=0;else return-1;if(typeof e=="string"&&(e=s.from(e,u)),s.isBuffer(e))return e.length===0?-1:K(i,e,t,u,f);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(i,e,t):Uint8Array.prototype.lastIndexOf.call(i,e,t):K(i,[e],t,u,f);throw new TypeError("val must be string, number or Buffer")}function K(i,e,t,u,f){var A=1,N=i.length,H=e.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(i.length<2||e.length<2)return-1;A=2,N/=2,H/=2,t/=2}function G(Pt,Ut){return A===1?Pt[Ut]:Pt.readUInt16BE(Ut*A)}var Y;if(f){var ne=-1;for(Y=t;Y<N;Y++)if(G(i,Y)===G(e,ne===-1?0:Y-ne)){if(ne===-1&&(ne=Y),Y-ne+1===H)return ne*A}else ne!==-1&&(Y-=Y-ne),ne=-1}else for(t+H>N&&(t=N-H),Y=t;Y>=0;Y--){for(var $=!0,Le=0;Le<H;Le++)if(G(i,Y+Le)!==G(e,Le)){$=!1;break}if($)return Y}return-1}s.prototype.includes=function(e,t,u){return this.indexOf(e,t,u)!==-1},s.prototype.indexOf=function(e,t,u){return z(this,e,t,u,!0)},s.prototype.lastIndexOf=function(e,t,u){return z(this,e,t,u,!1)};function V(i,e,t,u){t=Number(t)||0;var f=i.length-t;u?(u=Number(u),u>f&&(u=f)):u=f;var A=e.length;u>A/2&&(u=A/2);for(var N=0;N<u;++N){var H=parseInt(e.substr(N*2,2),16);if(we(H))return N;i[t+N]=H}return N}function Q(i,e,t,u){return ue(ae(e,i.length-t),i,t,u)}function Z(i,e,t,u){return ue(te(e),i,t,u)}function de(i,e,t,u){return ue(fe(e),i,t,u)}function L(i,e,t,u){return ue(re(e,i.length-t),i,t,u)}s.prototype.write=function(e,t,u,f){if(t===void 0)f="utf8",u=this.length,t=0;else if(u===void 0&&typeof t=="string")f=t,u=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(u)?(u=u>>>0,f===void 0&&(f="utf8")):(f=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var A=this.length-t;if((u===void 0||u>A)&&(u=A),e.length>0&&(u<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(var N=!1;;)switch(f){case"hex":return V(this,e,t,u);case"utf8":case"utf-8":return Q(this,e,t,u);case"ascii":case"latin1":case"binary":return Z(this,e,t,u);case"base64":return de(this,e,t,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,u);default:if(N)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),N=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(i,e,t){return e===0&&t===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(e,t))}function B(i,e,t){t=Math.min(i.length,t);for(var u=[],f=e;f<t;){var A=i[f],N=null,H=A>239?4:A>223?3:A>191?2:1;if(f+H<=t){var G,Y,ne,$;switch(H){case 1:A<128&&(N=A);break;case 2:G=i[f+1],(G&192)===128&&($=(A&31)<<6|G&63,$>127&&(N=$));break;case 3:G=i[f+1],Y=i[f+2],(G&192)===128&&(Y&192)===128&&($=(A&15)<<12|(G&63)<<6|Y&63,$>2047&&($<55296||$>57343)&&(N=$));break;case 4:G=i[f+1],Y=i[f+2],ne=i[f+3],(G&192)===128&&(Y&192)===128&&(ne&192)===128&&($=(A&15)<<18|(G&63)<<12|(Y&63)<<6|ne&63,$>65535&&$<1114112&&(N=$))}}N===null?(N=65533,H=1):N>65535&&(N-=65536,u.push(N>>>10&1023|55296),N=56320|N&1023),u.push(N),f+=H}return M(u)}var D=4096;function M(i){var e=i.length;if(e<=D)return String.fromCharCode.apply(String,i);for(var t="",u=0;u<e;)t+=String.fromCharCode.apply(String,i.slice(u,u+=D));return t}function T(i,e,t){var u="";t=Math.min(i.length,t);for(var f=e;f<t;++f)u+=String.fromCharCode(i[f]&127);return u}function _(i,e,t){var u="";t=Math.min(i.length,t);for(var f=e;f<t;++f)u+=String.fromCharCode(i[f]);return u}function S(i,e,t){var u=i.length;(!e||e<0)&&(e=0),(!t||t<0||t>u)&&(t=u);for(var f="",A=e;A<t;++A)f+=Ze[i[A]];return f}function k(i,e,t){for(var u=i.slice(e,t),f="",A=0;A<u.length-1;A+=2)f+=String.fromCharCode(u[A]+u[A+1]*256);return f}s.prototype.slice=function(e,t){var u=this.length;e=~~e,t=t===void 0?u:~~t,e<0?(e+=u,e<0&&(e=0)):e>u&&(e=u),t<0?(t+=u,t<0&&(t=0)):t>u&&(t=u),t<e&&(t=e);var f=this.subarray(e,t);return Object.setPrototypeOf(f,s.prototype),f};function F(i,e,t){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+e>t)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,u){e=e>>>0,t=t>>>0,u||F(e,t,this.length);for(var f=this[e],A=1,N=0;++N<t&&(A*=256);)f+=this[e+N]*A;return f},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,u){e=e>>>0,t=t>>>0,u||F(e,t,this.length);for(var f=this[e+--t],A=1;t>0&&(A*=256);)f+=this[e+--t]*A;return f},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e=e>>>0,t||F(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||F(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||F(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||F(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,u){e=e>>>0,t=t>>>0,u||F(e,t,this.length);for(var f=this[e],A=1,N=0;++N<t&&(A*=256);)f+=this[e+N]*A;return A*=128,f>=A&&(f-=Math.pow(2,8*t)),f},s.prototype.readIntBE=function(e,t,u){e=e>>>0,t=t>>>0,u||F(e,t,this.length);for(var f=t,A=1,N=this[e+--f];f>0&&(A*=256);)N+=this[e+--f]*A;return A*=128,N>=A&&(N-=Math.pow(2,8*t)),N},s.prototype.readInt8=function(e,t){return e=e>>>0,t||F(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},s.prototype.readInt16LE=function(e,t){e=e>>>0,t||F(e,2,this.length);var u=this[e]|this[e+1]<<8;return u&32768?u|4294901760:u},s.prototype.readInt16BE=function(e,t){e=e>>>0,t||F(e,2,this.length);var u=this[e+1]|this[e]<<8;return u&32768?u|4294901760:u},s.prototype.readInt32LE=function(e,t){return e=e>>>0,t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e=e>>>0,t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e=e>>>0,t||F(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e=e>>>0,t||F(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||F(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||F(e,8,this.length),o.read(this,e,!1,52,8)};function j(i,e,t,u,f,A){if(!s.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>f||e<A)throw new RangeError('"value" argument is out of bounds');if(t+u>i.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,u,f){if(e=+e,t=t>>>0,u=u>>>0,!f){var A=Math.pow(2,8*u)-1;j(this,e,t,u,A,0)}var N=1,H=0;for(this[t]=e&255;++H<u&&(N*=256);)this[t+H]=e/N&255;return t+u},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,u,f){if(e=+e,t=t>>>0,u=u>>>0,!f){var A=Math.pow(2,8*u)-1;j(this,e,t,u,A,0)}var N=u-1,H=1;for(this[t+N]=e&255;--N>=0&&(H*=256);)this[t+N]=e/H&255;return t+u},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,1,255,0),this[t]=e&255,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},s.prototype.writeIntLE=function(e,t,u,f){if(e=+e,t=t>>>0,!f){var A=Math.pow(2,8*u-1);j(this,e,t,u,A-1,-A)}var N=0,H=1,G=0;for(this[t]=e&255;++N<u&&(H*=256);)e<0&&G===0&&this[t+N-1]!==0&&(G=1),this[t+N]=(e/H>>0)-G&255;return t+u},s.prototype.writeIntBE=function(e,t,u,f){if(e=+e,t=t>>>0,!f){var A=Math.pow(2,8*u-1);j(this,e,t,u,A-1,-A)}var N=u-1,H=1,G=0;for(this[t+N]=e&255;--N>=0&&(H*=256);)e<0&&G===0&&this[t+N+1]!==0&&(G=1),this[t+N]=(e/H>>0)-G&255;return t+u},s.prototype.writeInt8=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},s.prototype.writeInt16LE=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},s.prototype.writeInt32LE=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,u){return e=+e,t=t>>>0,u||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function U(i,e,t,u,f,A){if(t+u>i.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ee(i,e,t,u,f){return e=+e,t=t>>>0,f||U(i,e,t,4),o.write(i,e,t,u,23,4),t+4}s.prototype.writeFloatLE=function(e,t,u){return ee(this,e,t,!0,u)},s.prototype.writeFloatBE=function(e,t,u){return ee(this,e,t,!1,u)};function se(i,e,t,u,f){return e=+e,t=t>>>0,f||U(i,e,t,8),o.write(i,e,t,u,52,8),t+8}s.prototype.writeDoubleLE=function(e,t,u){return se(this,e,t,!0,u)},s.prototype.writeDoubleBE=function(e,t,u){return se(this,e,t,!1,u)},s.prototype.copy=function(e,t,u,f){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(u||(u=0),!f&&f!==0&&(f=this.length),t>=e.length&&(t=e.length),t||(t=0),f>0&&f<u&&(f=u),f===u||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),e.length-t<f-u&&(f=e.length-t+u);var A=f-u;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,u,f):Uint8Array.prototype.set.call(e,this.subarray(u,f),t),A},s.prototype.fill=function(e,t,u,f){if(typeof e=="string"){if(typeof t=="string"?(f=t,t=0,u=this.length):typeof u=="string"&&(f=u,u=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!s.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(e.length===1){var A=e.charCodeAt(0);(f==="utf8"&&A<128||f==="latin1")&&(e=A)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<u)throw new RangeError("Out of range index");if(u<=t)return this;t=t>>>0,u=u===void 0?this.length:u>>>0,e||(e=0);var N;if(typeof e=="number")for(N=t;N<u;++N)this[N]=e;else{var H=s.isBuffer(e)?e:s.from(e,f),G=H.length;if(G===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(N=0;N<u-t;++N)this[N+t]=H[N%G]}return this};var W=/[^+/0-9A-Za-z-_]/g;function J(i){if(i=i.split("=")[0],i=i.trim().replace(W,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function ae(i,e){e=e||1/0;for(var t,u=i.length,f=null,A=[],N=0;N<u;++N){if(t=i.charCodeAt(N),t>55295&&t<57344){if(!f){if(t>56319){(e-=3)>-1&&A.push(239,191,189);continue}else if(N+1===u){(e-=3)>-1&&A.push(239,191,189);continue}f=t;continue}if(t<56320){(e-=3)>-1&&A.push(239,191,189),f=t;continue}t=(f-55296<<10|t-56320)+65536}else f&&(e-=3)>-1&&A.push(239,191,189);if(f=null,t<128){if((e-=1)<0)break;A.push(t)}else if(t<2048){if((e-=2)<0)break;A.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;A.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;A.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return A}function te(i){for(var e=[],t=0;t<i.length;++t)e.push(i.charCodeAt(t)&255);return e}function re(i,e){for(var t,u,f,A=[],N=0;N<i.length&&!((e-=2)<0);++N)t=i.charCodeAt(N),u=t>>8,f=t%256,A.push(f),A.push(u);return A}function fe(i){return n.toByteArray(J(i))}function ue(i,e,t,u){for(var f=0;f<u&&!(f+t>=e.length||f>=i.length);++f)e[f+t]=i[f];return f}function X(i,e){return i instanceof e||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===e.name}function we(i){return i!==i}var Ze=function(){for(var i="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var u=t*16,f=0;f<16;++f)e[u+f]=i[t]+i[f];return e}()})(vt);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,n){var o=vt,a=o.Buffer;function c(d,s){for(var m in d)s[m]=d[m]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=o:(c(o,n),n.Buffer=l);function l(d,s,m){return a(d,s,m)}l.prototype=Object.create(a.prototype),c(a,l),l.from=function(d,s,m){if(typeof d=="number")throw new TypeError("Argument must not be a number");return a(d,s,m)},l.alloc=function(d,s,m){if(typeof d!="number")throw new TypeError("Argument must be a number");var I=a(d);return s!==void 0?typeof m=="string"?I.fill(s,m):I.fill(s):I.fill(0),I},l.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return a(d)},l.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(d)}})(Ge,Ge.exports);var Ar=Ge.exports,Et=Ar.Buffer,xr=function(n){for(var o={},a=n.length,c=n.charAt(0),l=0;l<n.length;l++){var d=n.charAt(l);if(o[d]!==void 0)throw new TypeError(d+" is ambiguous");o[d]=l}function s(E){if(E.length===0)return"";for(var v=[0],b=0;b<E.length;++b){for(var p=0,g=E[b];p<v.length;++p)g+=v[p]<<8,v[p]=g%a,g=g/a|0;for(;g>0;)v.push(g%a),g=g/a|0}for(var h="",x=0;E[x]===0&&x<E.length-1;++x)h+=n[0];for(var y=v.length-1;y>=0;--y)h+=n[v[y]];return h}function m(E){if(E.length===0)return Et.allocUnsafe(0);for(var v=[0],b=0;b<E.length;b++){var p=o[E[b]];if(p===void 0)return;for(var g=0,h=p;g<v.length;++g)h+=v[g]*a,v[g]=h&255,h>>=8;for(;h>0;)v.push(h&255),h>>=8}for(var x=0;E[x]===c&&x<E.length-1;++x)v.push(0);return Et.from(v.reverse())}function I(E){var v=m(E);if(v)return v;throw new Error("Non-base"+a+" character")}return{encode:s,decodeUnsafe:m,decode:I}},_r=xr,Mr="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Tr=_r(Mr);(function(r){var n=q&&q.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(r,"__esModule",{value:!0}),r.baseDecode=r.baseEncode=r.parseNearAmount=r.formatNearAmount=r.NEAR_NOMINATION=r.NEAR_NOMINATION_EXP=void 0;const o=n(Tr);r.NEAR_NOMINATION_EXP=24,r.NEAR_NOMINATION=BigInt(10)**BigInt(r.NEAR_NOMINATION_EXP);const a=[],c=BigInt(10);for(let p=0,g=BigInt(5);p<r.NEAR_NOMINATION_EXP;p++,g=g*c)a[p]=g;function l(p,g=r.NEAR_NOMINATION_EXP){let h=BigInt(p);if(g!==r.NEAR_NOMINATION_EXP){const w=r.NEAR_NOMINATION_EXP-g-1;w>0&&(h+=a[w])}p=h.toString();const x=p.substring(0,p.length-r.NEAR_NOMINATION_EXP)||"0",y=p.substring(p.length-r.NEAR_NOMINATION_EXP).padStart(r.NEAR_NOMINATION_EXP,"0").substring(0,g);return m(`${E(x)}.${y}`)}r.formatNearAmount=l;function d(p){if(!p)return null;p=s(p);const g=p.split("."),h=g[0],x=g[1]||"";if(g.length>2||x.length>r.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${p}' as NEAR amount`);return I(h+x.padEnd(r.NEAR_NOMINATION_EXP,"0"))}r.parseNearAmount=d;function s(p){return p.replace(/,/g,"").trim()}function m(p){return p.replace(/\.?0*$/,"")}function I(p){return p=p.replace(/^0+/,""),p===""?"0":p}function E(p){const g=/(-?\d+)(\d{3})/;for(;g.test(p);)p=p.replace(g,"$1,$2");return p}function v(p){if(typeof p=="string"){const g=[];for(let h=0;h<p.length;h++)g.push(p.charCodeAt(h));p=new Uint8Array(g)}return o.default.encode(p)}r.baseEncode=v;function b(p){return new Uint8Array(o.default.decode(p))}r.baseDecode=b})(We);const Nr={GasLimitExceeded:"Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName:"Method name is empty",WasmerCompileError:"Wasmer compilation error: {{msg}}",GuestPanic:"Smart contract panicked: {{panic_msg}}",Memory:"Error creating Wasm memory",GasExceeded:"Exceeded the prepaid gas",MethodUTF8Error:"Method name is not valid UTF8 string",BadUTF16:"String encoding is bad UTF-16 sequence",WasmTrap:"WebAssembly trap: {{msg}}",GasInstrumentation:"Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex:"{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex:"Accessed invalid promise result index: {{result_idx}}",Deserialization:"Error happened while deserializing the module",MethodNotFound:"Contract method is not found",InvalidRegisterId:"Accessed invalid register id: {{register_id}}",InvalidReceiptIndex:"VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName:"Method name is empty in contract call",CannotReturnJointPromise:"Returning joint promise is currently prohibited",StackHeightInstrumentation:"Stack instrumentation failed",CodeDoesNotExist:"Cannot find contract code for account {{account_id}}",MethodInvalidSignature:"Invalid method signature",IntegerOverflow:"Integer overflow happened during contract execution",MemoryAccessViolation:"MemoryAccessViolation",InvalidIteratorIndex:"Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated:"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId:"VM Logic returned an invalid account id",Serialization:"Error happened while serializing the module",CannotAppendActionToJointPromise:"Actions can only be appended to non-joint promise.",InternalMemoryDeclared:"Internal memory declaration has been found in the module",Instantiate:"Error happened during instantiation",ProhibitedInView:"{{method_name}} is not allowed in view calls",InvalidMethodName:"VM Logic returned an invalid method name",BadUTF8:"String encoding is bad UTF-8 sequence",BalanceExceeded:"Exceeded the account balance",LinkError:"Wasm contract link error: {{msg}}",InvalidPublicKey:"VM Logic provided an invalid public key",ActorNoPermission:"Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState:"The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch:"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow:"Transaction gas or balance cost is too high",InvalidSignature:"Transaction is not signed with the given public key",AccessKeyNotFound:`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance:"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance:"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired:"Transaction has expired",DeleteAccountStaking:"Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist:"Signer {{signer_id}} does not exist",TriesToStake:"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists:"The public key {{public_key}} is already used for an existing access key",InvalidSigner:"Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed:"The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess:"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake:"Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce:"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists:"Can't create a new account {{account_id}}, because it already exists",InvalidChain:"Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist:"Can't complete the action because account {{account_id}} doesn't exist",AccessKeyDoesNotExist:"Can't complete the action because access key {{public_key}} doesn't exist",MethodNameMismatch:"Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent:"Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance:"Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver:"Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist:"Account {{account_id}} tries to remove an access key that doesn't exist",Timeout:"Timeout exceeded",Closed:"Connection closed"},Sr={schema:{AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},AltBn128InvalidInput:{name:"AltBn128InvalidInput",subtypes:[],props:{msg:""}},BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DelegateActionExpired:{name:"DelegateActionExpired",subtypes:[],props:{}},DelegateActionInvalidNonce:{name:"DelegateActionInvalidNonce",subtypes:[],props:{ak_nonce:"",delegate_nonce:""}},DelegateActionInvalidSignature:{name:"DelegateActionInvalidSignature",subtypes:[],props:{}},DelegateActionMustBeOnlyOne:{name:"DelegateActionMustBeOnlyOne",subtypes:[],props:{}},DelegateActionNonceTooLarge:{name:"DelegateActionNonceTooLarge",subtypes:[],props:{delegate_nonce:"",upper_bound:""}},DelegateActionSenderDoesNotMatchTxReceiver:{name:"DelegateActionSenderDoesNotMatchTxReceiver",subtypes:[],props:{receiver_id:"",sender_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteAccountWithLargeState:{name:"DeleteAccountWithLargeState",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},ECRecoverError:{name:"ECRecoverError",subtypes:[],props:{msg:""}},Ed25519VerifyInvalidInput:{name:"Ed25519VerifyInvalidInput",subtypes:[],props:{msg:""}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},IndirectCallToNull:{name:"IndirectCallToNull",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded"],props:{}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NonceTooLarge:{name:"NonceTooLarge",subtypes:[],props:{tx_nonce:"",upper_bound:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TooManyFunctions:{name:"TooManyFunctions",subtypes:[],props:{}},TooManyLocals:{name:"TooManyLocals",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TransactionSizeExceeded:{name:"TransactionSizeExceeded",subtypes:[],props:{limit:"",size:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},UnsupportedProtocolFeature:{name:"UnsupportedProtocolFeature",subtypes:[],props:{protocol_feature:"",version:""}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},Closed:{name:"Closed",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}}};var Qe=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ce,"__esModule",{value:!0}),ce.getErrorTypeFromErrorMessage=ce.formatError=ce.parseResultError=ce.parseRpcError=ce.ServerError=void 0;const Rr=ht,Cr=Qe(qt),Fr=We,bt=Qe(Nr),Br=Qe(Sr),Dr={formatNear:()=>(r,n)=>(0,Fr.formatNearAmount)(n(r))};class Je extends Rr.TypedError{}ce.ServerError=Je;class kr extends Je{}function It(r){const n={},o=xt(r,Br.default.schema,n,""),a=new Je(At(o,n),o);return Object.assign(a,n),a}ce.parseRpcError=It;function Or(r){const n=It(r.status.Failure),o=new kr;return Object.assign(o,n),o.type=n.type,o.message=n.message,o.transaction_outcome=r.transaction_outcome,o}ce.parseResultError=Or;function At(r,n){return typeof bt.default[r]=="string"?Cr.default.render(bt.default[r],Object.assign(Object.assign({},n),Dr)):JSON.stringify(n)}ce.formatError=At;function xt(r,n,o,a){let c,l,d;for(const s in n){if(Pr(r[s]))return r[s];if(Ye(r[s]))c=r[s],l=n[s],d=s;else if(Ye(r.kind)&&Ye(r.kind[s]))c=r.kind[s],l=n[s],d=s;else continue}if(c&&l){for(const s of Object.keys(l.props))o[s]=c[s];return xt(c,n,o,d)}else return o.kind=r,a}function Lr(r,n){switch(!0){case/^account .*? does not exist while viewing$/.test(r):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(r):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(r):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(r):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(r):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(r):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(r):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(r):return"InvalidNonce";default:return n}}ce.getErrorTypeFromErrorMessage=Lr;function Ye(r){return Object.prototype.toString.call(r)==="[object Object]"}function Pr(r){return Object.prototype.toString.call(r)==="[object String]"}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseRpcError=r.parseResultError=r.getErrorTypeFromErrorMessage=r.formatError=r.ServerError=r.logWarning=void 0;var n=Te;Object.defineProperty(r,"logWarning",{enumerable:!0,get:function(){return n.logWarning}});var o=ce;Object.defineProperty(r,"ServerError",{enumerable:!0,get:function(){return o.ServerError}}),Object.defineProperty(r,"formatError",{enumerable:!0,get:function(){return o.formatError}}),Object.defineProperty(r,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return o.getErrorTypeFromErrorMessage}}),Object.defineProperty(r,"parseResultError",{enumerable:!0,get:function(){return o.parseResultError}}),Object.defineProperty(r,"parseRpcError",{enumerable:!0,get:function(){return o.parseRpcError}})})(He);var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.printTxOutcomeLogs=be.printTxOutcomeLogsAndFailures=void 0;const Ur=He,Xe=Ne;function jr({contractId:r,outcome:n}){const o=[n.transaction_outcome,...n.receipts_outcome].reduce((a,c)=>{const l=typeof c.outcome.status=="object"&&typeof c.outcome.status.Failure=="object";return c.outcome.logs.length||l?a.concat({receiptIds:c.outcome.receipt_ids,logs:c.outcome.logs,failure:typeof c.outcome.status=="object"&&c.outcome.status.Failure!==void 0?(0,Ur.parseRpcError)(c.outcome.status.Failure):null}):a},[]);for(const a of o)Xe.Logger.log(`Receipt${a.receiptIds.length>1?"s":""}: ${a.receiptIds.join(", ")}`),_t({contractId:r,logs:a.logs,prefix:"	"}),a.failure&&Xe.Logger.warn(`	Failure [${r}]: ${a.failure}`)}be.printTxOutcomeLogsAndFailures=jr;function _t({contractId:r,logs:n,prefix:o=""}){for(const a of n)Xe.Logger.log(`${o}Log [${r}]: ${a}`)}be.printTxOutcomeLogs=_t;var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.getTransactionLastResult=void 0;function qr(r){if(typeof r.status=="object"&&typeof r.status.SuccessValue=="string"){const n=Buffer.from(r.status.SuccessValue,"base64").toString();try{return JSON.parse(n)}catch{return n}}return null}De.getTransactionLastResult=qr;var Ie={},xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.sortBigIntAsc=void 0;function zr(r,n){return r<n?-1:r>n?1:0}xe.sortBigIntAsc=zr;var Hr=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.diffEpochValidators=Ie.findSeatPrice=void 0;const Wr=Hr(Yt),Mt=xe;function Gr(r,n,o,a){return a&&a<49?Kr(r,n):(o||((0,Wr.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),o=[1,6250]),Vr(r,n,o))}Ie.findSeatPrice=Gr;function Kr(r,n){const o=r.map(s=>BigInt(s.stake)).sort(Mt.sortBigIntAsc),a=BigInt(n),c=o.reduce((s,m)=>s+m);if(c<a)throw new Error("Stakes are below seats");let l=BigInt(1),d=c+BigInt(1);for(;l!==d-BigInt(1);){const s=(l+d)/BigInt(2);let m=!1,I=BigInt(0);for(let E=0;E<o.length;++E)if(I=I+o[E]/s,I>=a){l=s,m=!0;break}m||(d=s)}return l}function Vr(r,n,o){if(o.length!=2)throw Error("minimumStakeRatio should have 2 elements");const a=r.map(l=>BigInt(l.stake)).sort(Mt.sortBigIntAsc),c=a.reduce((l,d)=>l+d);return r.length<n?c*BigInt(o[0])/BigInt(o[1]):a[0]+BigInt(1)}function Qr(r,n){const o=new Map;r.forEach(c=>o.set(c.account_id,c));const a=new Set(n.map(c=>c.account_id));return{newValidators:n.filter(c=>!o.has(c.account_id)),removedValidators:r.filter(c=>!a.has(c.account_id)),changedValidators:n.filter(c=>o.has(c.account_id)&&o.get(c.account_id).stake!=c.stake).map(c=>({current:o.get(c.account_id),next:c}))}}Ie.diffEpochValidators=Qr,function(r){var n=q&&q.__createBinding||(Object.create?function(a,c,l,d){d===void 0&&(d=l);var s=Object.getOwnPropertyDescriptor(c,l);(!s||("get"in s?!c.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(a,d,s)}:function(a,c,l,d){d===void 0&&(d=l),a[d]=c[l]}),o=q&&q.__exportStar||function(a,c){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&n(c,a,l)};Object.defineProperty(r,"__esModule",{value:!0}),o(Me,r),o(He,r),o(We,r),o(be,r),o(De,r),o(Ie,r),o(Ne,r),o(xe,r)}(ft);var oe={},Jr=q&&q.__awaiter||function(r,n,o,a){function c(l){return l instanceof o?l:new o(function(d){d(l)})}return new(o||(o=Promise))(function(l,d){function s(E){try{I(a.next(E))}catch(v){d(v)}}function m(E){try{I(a.throw(E))}catch(v){d(v)}}function I(E){E.done?l(E.value):c(E.value).then(s,m)}I((a=a.apply(r,n||[])).next())})},Yr=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oe,"__esModule",{value:!0}),oe.isValidAccessKey=oe.internalThrow=oe.getPublicKeys=oe.serializeActions=oe.isMobile=oe.getDeviceId=void 0;const Xr=Yr(dt),Tt=je,Zr=()=>{const r=(window==null?void 0:window.localStorage.getItem("herewallet-topic"))||(0,Xr.default)();return window==null||window.localStorage.setItem("herewallet-topic",r),r};oe.getDeviceId=Zr;const $r=()=>(window==null?void 0:window.matchMedia("(any-pointer:coarse)").matches)||!1;oe.isMobile=$r;const en=r=>r.map(n=>{if(n.type!=="FunctionCall")return n;let{args:o,deposit:a,gas:c,methodName:l}=n.params;return ArrayBuffer.isView(o)&&(o=Buffer.from(o.buffer,o.byteOffset,o.byteLength)),o instanceof Buffer&&(o=o.toString("base64")),{type:n.type,params:{args:o,deposit:a,gas:c,methodName:l}}});oe.serializeActions=en;const tn=(r,n)=>Jr(void 0,void 0,void 0,function*(){const o=yield fetch(r,{method:"POST",body:JSON.stringify({jsonrpc:"2.0",id:"dontcare",method:"query",params:{request_type:"view_access_key_list",finality:"final",account_id:n}}),headers:{"content-type":"application/json"}});return o.ok===!1?[]:(yield o.json()).result.keys});oe.getPublicKeys=tn;const rn=(r,n,o)=>{if(r instanceof Tt.HereProviderError)throw r;const a={payload:r instanceof Error?r.message:"UNKNOWN",status:Tt.HereProviderStatus.FAILED,type:(o==null?void 0:o.type)||"web",account_id:(o==null?void 0:o.id)||""};throw n.onFailed(a),r};oe.internalThrow=rn;const nn=(r,n,o)=>{const{permission:a}=n.access_key;if(a==="FullAccess")return!0;if(a.FunctionCall){const{receiver_id:c,method_names:l}=a.FunctionCall;if(c===r&&l.includes("add_request_and_confirm"))return!0;if(c===o.receiverId)return o.actions.length!==1?!1:o.actions.every(d=>d.type!=="FunctionCall"?!1:(!d.params.deposit||d.params.deposit.toString()==="0")&&(l.length===0||l.includes(d.params.methodName)))}return!1};oe.isValidAccessKey=nn,function(r){var n=q&&q.__awaiter||function(b,p,g,h){function x(y){return y instanceof g?y:new g(function(w){w(y)})}return new(g||(g=Promise))(function(y,w){function P(z){try{O(h.next(z))}catch(K){w(K)}}function R(z){try{O(h.throw(z))}catch(K){w(K)}}function O(z){z.done?y(z.value):x(z.value).then(P,R)}O((h=h.apply(b,p||[])).next())})},o=q&&q.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(r,"__esModule",{value:!0}),r.createRequest=r.computeRequestId=r.deleteRequest=r.getResponse=r.getRequest=r.proxyApi=void 0;const a=o(tr),c=o(dt),l=ft,d=oe;r.proxyApi="https://h4n.app";const s=(b,p)=>n(void 0,void 0,void 0,function*(){const g=yield fetch(`${r.proxyApi}/${b}/request`,{signal:p,headers:{"content-type":"application/json"},method:"GET"});if(g.ok===!1)throw Error(yield g.text());const{data:h}=yield g.json();return JSON.parse(Buffer.from((0,l.baseDecode)(h)).toString("utf8"))});r.getRequest=s;const m=b=>n(void 0,void 0,void 0,function*(){var p;const g=yield fetch(`${r.proxyApi}/${b}/response`,{headers:{"content-type":"application/json"},method:"GET"});if(g.ok===!1)throw Error(yield g.text());const{data:h}=yield g.json(),x=(p=JSON.parse(h))!==null&&p!==void 0?p:{};return Object.assign({type:"here",public_key:"",account_id:"",payload:"",status:-1,path:""},x)});r.getResponse=m;const I=b=>n(void 0,void 0,void 0,function*(){const p=yield fetch(`${r.proxyApi}/${b}`,{headers:{"content-type":"application/json"},method:"DELETE"});if(p.ok===!1)throw Error(yield p.text())});r.deleteRequest=I;const E=b=>n(void 0,void 0,void 0,function*(){const p=(0,l.baseEncode)(JSON.stringify(Object.assign(Object.assign({},b),{_id:(0,c.default)()}))),g=(0,a.default)(p);return{requestId:Buffer.from(g,"hex").toString("base64").replaceAll("/","_").replaceAll("-","+").slice(0,13),query:p}});r.computeRequestId=E;const v=(b,p)=>n(void 0,void 0,void 0,function*(){const{query:g,requestId:h}=yield(0,r.computeRequestId)(b),x=yield fetch(`${r.proxyApi}/${h}/request`,{method:"POST",body:JSON.stringify({topic_id:(0,d.getDeviceId)(),data:g}),headers:{"content-type":"application/json"},signal:p});if(x.ok===!1)throw Error(yield x.text());return h});r.createRequest=v}(at),function(r){var n=q&&q.__awaiter||function(d,s,m,I){function E(v){return v instanceof m?v:new m(function(b){b(v)})}return new(m||(m=Promise))(function(v,b){function p(x){try{h(I.next(x))}catch(y){b(y)}}function g(x){try{h(I.throw(x))}catch(y){b(y)}}function h(x){x.done?v(x.value):E(x.value).then(p,g)}h((I=I.apply(d,s||[])).next())})},o=q&&q.__rest||function(d,s){var m={};for(var I in d)Object.prototype.hasOwnProperty.call(d,I)&&s.indexOf(I)<0&&(m[I]=d[I]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,I=Object.getOwnPropertySymbols(d);E<I.length;E++)s.indexOf(I[E])<0&&Object.prototype.propertyIsEnumerable.call(d,I[E])&&(m[I[E]]=d[I[E]]);return m};Object.defineProperty(r,"__esModule",{value:!0}),r.HereStrategy=r.getRequest=r.proxyApi=r.deleteRequest=r.getResponse=r.createRequest=void 0;const a=je,c=at;Object.defineProperty(r,"createRequest",{enumerable:!0,get:function(){return c.createRequest}}),Object.defineProperty(r,"getResponse",{enumerable:!0,get:function(){return c.getResponse}}),Object.defineProperty(r,"deleteRequest",{enumerable:!0,get:function(){return c.deleteRequest}}),Object.defineProperty(r,"proxyApi",{enumerable:!0,get:function(){return c.proxyApi}}),Object.defineProperty(r,"getRequest",{enumerable:!0,get:function(){return c.getRequest}});class l{connect(s){return n(this,void 0,void 0,function*(){this.wallet=s})}onInitialized(){return n(this,void 0,void 0,function*(){})}onRequested(s,m,I){return n(this,void 0,void 0,function*(){})}onApproving(s){return n(this,void 0,void 0,function*(){})}onSuccess(s){return n(this,void 0,void 0,function*(){})}onFailed(s){return n(this,void 0,void 0,function*(){})}request(s){return n(this,void 0,void 0,function*(){let{request:m,disableCleanupRequest:I,id:E,signal:v}=s;return o(s,["request","disableCleanupRequest","id","signal"]),E!=null?m=yield(0,c.getRequest)(E,v):E=yield(0,c.createRequest)(m,v),new Promise((b,p)=>{let g=null;const h=()=>n(this,void 0,void 0,function*(){g=-1,clearInterval(g),I!==!0&&(yield(0,c.deleteRequest)(E))}),x=P=>{switch(P.status){case a.HereProviderStatus.APPROVING:this.onApproving(P);return;case a.HereProviderStatus.FAILED:h(),p(new a.HereProviderError(P.payload)),this.onFailed(P);return;case a.HereProviderStatus.SUCCESS:h(),b(P),this.onSuccess(P);return}},y=P=>{var R;x({type:((R=m.selector)===null||R===void 0?void 0:R.type)||"web",status:a.HereProviderStatus.FAILED,payload:P})};this.onRequested(E,m,y),v==null||v.addEventListener("abort",()=>y());const w=()=>{g!==-1&&(g=setTimeout(()=>n(this,void 0,void 0,function*(){var P;try{const R=yield(0,c.getResponse)(E);if(g===-1)return;x(R),w()}catch(R){const O=a.HereProviderStatus.FAILED,z=R instanceof Error?R:void 0,K=z==null?void 0:z.message;h(),p(new a.HereProviderError(K,z)),this.onFailed({type:((P=m.selector)===null||P===void 0?void 0:P.type)||"web",status:O,payload:K})}}),3e3))};w()})})}}r.HereStrategy=l}(it);var _e={},ie={},Nt={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.qrcode=void 0;const n=function(v,b){var p=236,g=17,h=v,x=a[b],y=null,w=0,P=null,R=new Array,O={},z=function(M,T){w=h*4+17,y=function(_){for(var S=new Array(_),k=0;k<_;k+=1){S[k]=new Array(_);for(var F=0;F<_;F+=1)S[k][F]=null}return S}(w),K(0,0),K(w-7,0),K(0,w-7),Z(),Q(),L(M,T),h>=7&&de(M),P==null&&(P=D(h,x,R)),C(P,T)},K=function(M,T){for(var _=-1;_<=7;_+=1)if(!(M+_<=-1||w<=M+_))for(var S=-1;S<=7;S+=1)T+S<=-1||w<=T+S||(0<=_&&_<=6&&(S==0||S==6)||0<=S&&S<=6&&(_==0||_==6)||2<=_&&_<=4&&2<=S&&S<=4?y[M+_][T+S]=!0:y[M+_][T+S]=!1)},V=function(){for(var M=0,T=0,_=0;_<8;_+=1){z(!0,_);var S=l.getLostPoint(O);(_==0||M>S)&&(M=S,T=_)}return T},Q=function(){for(var M=8;M<w-8;M+=1)y[M][6]==null&&(y[M][6]=M%2==0);for(var T=8;T<w-8;T+=1)y[6][T]==null&&(y[6][T]=T%2==0)},Z=function(){for(var M=l.getPatternPosition(h),T=0;T<M.length;T+=1)for(var _=0;_<M.length;_+=1){var S=M[T],k=M[_];if(y[S][k]==null)for(var F=-2;F<=2;F+=1)for(var j=-2;j<=2;j+=1)y[S+F][k+j]=F==-2||F==2||j==-2||j==2||F==0&&j==0}},de=function(M){for(var T=l.getBCHTypeNumber(h),_=0;_<18;_+=1){var S=!M&&(T>>_&1)==1;y[Math.floor(_/3)][_%3+w-8-3]=S}for(var _=0;_<18;_+=1){var S=!M&&(T>>_&1)==1;y[_%3+w-8-3][Math.floor(_/3)]=S}},L=function(M,T){for(var _=x<<3|T,S=l.getBCHTypeInfo(_),k=0;k<15;k+=1){let F=!M&&(S>>k&1)==1;y[k<6?k:k<8?k+1:w-15+k][8]=F,y[8][k<8?w-k-1:k<9?15-k:14-k]=F}y[w-8][8]=!M},C=function(M,T){for(var _=-1,S=w-1,k=7,F=0,j=l.getMaskFunction(T),U=w-1;U>0;U-=2)for(U==6&&(U-=1);;){for(var ee=0;ee<2;ee+=1)if(y[S][U-ee]==null){var se=!1;F<M.length&&(se=(M[F]>>>k&1)==1);var W=j(S,U-ee);W&&(se=!se),y[S][U-ee]=se,k-=1,k==-1&&(F+=1,k=7)}if(S+=_,S<0||w<=S){S-=_,_=-_;break}}},B=function(M,T){for(var _=0,S=0,k=0,F=new Array(T.length),j=new Array(T.length),U=0;U<T.length;U+=1){var ee=T[U].dataCount,se=T[U].totalCount-ee;S=Math.max(S,ee),k=Math.max(k,se),F[U]=new Array(ee);for(var W=0;W<F[U].length;W+=1)F[U][W]=255&M.getBuffer()[W+_];_+=ee;var J=l.getErrorCorrectPolynomial(se),ae=s(F[U],J.getLength()-1),te=ae.mod(J);j[U]=new Array(J.getLength()-1);for(var W=0;W<j[U].length;W+=1){var re=W+te.getLength()-j[U].length;j[U][W]=re>=0?te.getAt(re):0}}for(var fe=0,W=0;W<T.length;W+=1)fe+=T[W].totalCount;for(var ue=new Array(fe),X=0,W=0;W<S;W+=1)for(var U=0;U<T.length;U+=1)W<F[U].length&&(ue[X]=F[U][W],X+=1);for(var W=0;W<k;W+=1)for(var U=0;U<T.length;U+=1)W<j[U].length&&(ue[X]=j[U][W],X+=1);return ue},D=function(M,T,_){for(var S=m.getRSBlocks(M,T),k=I(),F=0;F<_.length;F+=1){var j=_[F];k.put(j.getMode(),4),k.put(j.getLength(),l.getLengthInBits(j.getMode(),M)),j.write(k)}for(var U=0,F=0;F<S.length;F+=1)U+=S[F].dataCount;if(k.getLengthInBits()>U*8)throw new Error("code length overflow. ("+k.getLengthInBits()+">"+U*8+")");for(k.getLengthInBits()+4<=U*8&&k.put(0,4);k.getLengthInBits()%8!=0;)k.putBit(!1);for(;!(k.getLengthInBits()>=U*8||(k.put(p,8),k.getLengthInBits()>=U*8));)k.put(g,8);return B(k,S)};return O.addData=function(M){var T=E(M);R.push(T),P=null},O.isDark=function(M,T){if(M<0||w<=M||T<0||w<=T)throw new Error(M+","+T);return y[M][T]},O.getModuleCount=function(){return w},O.make=function(){z(!1,V())},O};r.qrcode=n,r.qrcode.stringToBytes=function(v){function b(p){for(var g=[],h=0;h<p.length;h++){var x=p.charCodeAt(h);x<128?g.push(x):x<2048?g.push(192|x>>6,128|x&63):x<55296||x>=57344?g.push(224|x>>12,128|x>>6&63,128|x&63):(h++,x=65536+((x&1023)<<10|p.charCodeAt(h)&1023),g.push(240|x>>18,128|x>>12&63,128|x>>6&63,128|x&63))}return g}return b(v)};var o={MODE_8BIT_BYTE:4},a={L:1,M:0,Q:3,H:2},c={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},l=function(){var v=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],b=1335,p=7973,g=21522,h={},x=function(y){for(var w=0;y!=0;)w+=1,y>>>=1;return w};return h.getBCHTypeInfo=function(y){for(var w=y<<10;x(w)-x(b)>=0;)w^=b<<x(w)-x(b);return(y<<10|w)^g},h.getBCHTypeNumber=function(y){for(var w=y<<12;x(w)-x(p)>=0;)w^=p<<x(w)-x(p);return y<<12|w},h.getPatternPosition=function(y){return v[y-1]},h.getMaskFunction=function(y){switch(y){case c.PATTERN000:return function(w,P){return(w+P)%2==0};case c.PATTERN001:return function(w,P){return w%2==0};case c.PATTERN010:return function(w,P){return P%3==0};case c.PATTERN011:return function(w,P){return(w+P)%3==0};case c.PATTERN100:return function(w,P){return(Math.floor(w/2)+Math.floor(P/3))%2==0};case c.PATTERN101:return function(w,P){return w*P%2+w*P%3==0};case c.PATTERN110:return function(w,P){return(w*P%2+w*P%3)%2==0};case c.PATTERN111:return function(w,P){return(w*P%3+(w+P)%2)%2==0};default:throw new Error("bad maskPattern:"+y)}},h.getErrorCorrectPolynomial=function(y){for(var w=s([1],0),P=0;P<y;P+=1)w=w.multiply(s([1,d.gexp(P)],0));return w},h.getLengthInBits=function(y,w){if(y!=o.MODE_8BIT_BYTE||w<1||w>40)throw new Error("mode: "+y+"; type: "+w);return w<10?8:16},h.getLostPoint=function(y){for(var w=y.getModuleCount(),P=0,R=0;R<w;R+=1)for(var O=0;O<w;O+=1){for(var z=0,K=y.isDark(R,O),V=-1;V<=1;V+=1)if(!(R+V<0||w<=R+V))for(var Q=-1;Q<=1;Q+=1)O+Q<0||w<=O+Q||V==0&&Q==0||K==y.isDark(R+V,O+Q)&&(z+=1);z>5&&(P+=3+z-5)}for(var R=0;R<w-1;R+=1)for(var O=0;O<w-1;O+=1){var Z=0;y.isDark(R,O)&&(Z+=1),y.isDark(R+1,O)&&(Z+=1),y.isDark(R,O+1)&&(Z+=1),y.isDark(R+1,O+1)&&(Z+=1),(Z==0||Z==4)&&(P+=3)}for(var R=0;R<w;R+=1)for(var O=0;O<w-6;O+=1)y.isDark(R,O)&&!y.isDark(R,O+1)&&y.isDark(R,O+2)&&y.isDark(R,O+3)&&y.isDark(R,O+4)&&!y.isDark(R,O+5)&&y.isDark(R,O+6)&&(P+=40);for(var O=0;O<w;O+=1)for(var R=0;R<w-6;R+=1)y.isDark(R,O)&&!y.isDark(R+1,O)&&y.isDark(R+2,O)&&y.isDark(R+3,O)&&y.isDark(R+4,O)&&!y.isDark(R+5,O)&&y.isDark(R+6,O)&&(P+=40);for(var de=0,O=0;O<w;O+=1)for(var R=0;R<w;R+=1)y.isDark(R,O)&&(de+=1);var L=Math.abs(100*de/w/w-50)/5;return P+=L*10,P},h}(),d=function(){for(var v=new Array(256),b=new Array(256),p=0;p<8;p+=1)v[p]=1<<p;for(var p=8;p<256;p+=1)v[p]=v[p-4]^v[p-5]^v[p-6]^v[p-8];for(var p=0;p<255;p+=1)b[v[p]]=p;var g={};return g.glog=function(h){if(h<1)throw new Error("glog("+h+")");return b[h]},g.gexp=function(h){for(;h<0;)h+=255;for(;h>=256;)h-=255;return v[h]},g}();function s(v,b){if(typeof v.length>"u")throw new Error(v.length+"/"+b);var p=function(){for(var h=0;h<v.length&&v[h]==0;)h+=1;for(var x=new Array(v.length-h+b),y=0;y<v.length-h;y+=1)x[y]=v[y+h];return x}(),g={};return g.getAt=function(h){return p[h]},g.getLength=function(){return p.length},g.multiply=function(h){for(var x=new Array(g.getLength()+h.getLength()-1),y=0;y<g.getLength();y+=1)for(var w=0;w<h.getLength();w+=1)x[y+w]^=d.gexp(d.glog(g.getAt(y))+d.glog(h.getAt(w)));return s(x,0)},g.mod=function(h){if(g.getLength()-h.getLength()<0)return g;for(var x=d.glog(g.getAt(0))-d.glog(h.getAt(0)),y=new Array(g.getLength()),w=0;w<g.getLength();w+=1)y[w]=g.getAt(w);for(var w=0;w<h.getLength();w+=1)y[w]^=d.gexp(d.glog(h.getAt(w))+x);return s(y,0).mod(h)},g}var m=function(){var v=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b=function(h,x){var y={};return y.totalCount=h,y.dataCount=x,y},p={},g=function(h,x){switch(x){case a.L:return v[(h-1)*4+0];case a.M:return v[(h-1)*4+1];case a.Q:return v[(h-1)*4+2];case a.H:return v[(h-1)*4+3];default:return}};return p.getRSBlocks=function(h,x){var y=g(h,x);if(typeof y>"u")throw new Error("bad rs block @ typeNumber:"+h+"/errorCorrectLevel:"+x);for(var w=y.length/3,P=new Array,R=0;R<w;R+=1)for(var O=y[R*3+0],z=y[R*3+1],K=y[R*3+2],V=0;V<O;V+=1)P.push(b(z,K));return P},p}(),I=function(){var v=new Array,b=0,p={};return p.getBuffer=function(){return v},p.getAt=function(g){var h=Math.floor(g/8);return(v[h]>>>7-g%8&1)==1},p.put=function(g,h){for(var x=0;x<h;x+=1)p.putBit((g>>>h-x-1&1)==1)},p.getLengthInBits=function(){return b},p.putBit=function(g){var h=Math.floor(b/8);v.length<=h&&v.push(0),g&&(v[h]|=128>>>b%8),b+=1},p},E=function(v){var b=o.MODE_8BIT_BYTE,p=r.qrcode.stringToBytes(v),g={};return g.getMode=function(){return b},g.getLength=function(h){return p.length},g.write=function(h){for(var x=0;x<p.length;x+=1)h.put(p[x],8)},g}})(Nt),Object.defineProperty(ie,"__esModule",{value:!0}),ie.setFill=ie.drawModules=ie.drawModuleRounded=ie.drawModuleRoundendLight=ie.drawModuleRoundedDark=ie.createMinQRCode=void 0;const on=Nt;function an(r,n,o,a){const c={},l=(0,on.qrcode)(o,n);l.addData(r),l.make(),a=a||0;const d=l.getModuleCount(),s=l.getModuleCount()+2*a;function m(I,E){return I-=a,E-=a,I<0||I>=d||E<0||E>=d?!1:l.isDark(I,E)}return c.text=r,c.level=n,c.version=o,c.moduleCount=s,c.isDark=m,c}function sn(r,n,o,a,c){o=Math.max(1,o||1),a=Math.min(40,a||40);for(var l=o;l<=a;l+=1)try{return an(r,n,l,c)}catch{}}ie.createMinQRCode=sn;function St(r,n,o,a,c,l,d,s,m,I){d?r.moveTo(n+l,o):r.moveTo(n,o);function E(v,b,p,g,h,x,y){v?(r.lineTo(b+x,p+y),r.arcTo(b,p,g,h,l)):r.lineTo(b,p)}E(s,a,o,a,c,-l,0),E(m,a,c,n,c,0,-l),E(I,n,c,n,o,l,0),E(d,n,o,a,o,0,l)}ie.drawModuleRoundedDark=St;function Rt(r,n,o,a,c,l,d,s,m,I){function E(v,b,p,g){r.moveTo(v+p,b),r.lineTo(v,b),r.lineTo(v,b+g),r.arcTo(v,b,v+p,b,l)}d&&E(n,o,l,l),s&&E(a,o,-l,l),m&&E(a,c,-l,-l),I&&E(n,c,l,-l)}ie.drawModuleRoundendLight=Rt;function Ct(r,n,o,a,c,l,d,s){var m=r.isDark,I=a+l,E=c+l,v=d-1,b=d+1,p=s-1,g=s+1,h=Math.floor(Math.min(.5,Math.max(0,o.radius))*l),x=m(d,s),y=m(v,p),w=m(v,s),P=m(v,g),R=m(d,g),O=m(b,g),z=m(b,s),K=m(b,p),V=m(d,p);a=Math.round(a),c=Math.round(c),I=Math.round(I),E=Math.round(E),x?St(n,a,c,I,E,h,!w&&!V,!w&&!R,!z&&!R,!z&&!V):Rt(n,a,c,I,E,h,w&&V&&y,w&&R&&P,z&&R&&O,z&&V&&K)}ie.drawModuleRounded=Ct;function un(r,n,o){var a=r.moduleCount,c=o.size/a,l,d;for(n.beginPath(),l=0;l<a;l+=1)for(d=0;d<a;d+=1){var s=d*c,m=l*c,I=c;Ct(r,n,o,s,m,I,l,d)}Ft(n,o.fill,o.size),n.fill()}ie.drawModules=un;function Ft(r,n,o){if(typeof n=="string"){r.fillStyle=n;return}const a=n.type,c=n.position,l=n.colorStops;let d;const s=c.map(m=>Math.round(m*o));if(a==="linear-gradient")d=r.createLinearGradient.apply(r,s);else if(a==="radial-gradient")d=r.createRadialGradient.apply(r,s);else throw new Error("Unsupported fill");l.forEach(([m,I])=>{d.addColorStop(m,I)}),r.fillStyle=d}ie.setFill=Ft;var ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0yNy4zOTYxIDQ0LjQ1NDNMMjcuNDg2NSA0NC40OTkyTDI3LjU4NzMgNDQuNDkzMUw1Ni4yNTAxIDQyLjc1MThMNTMuODE2OCA0Ny4xNDYzTDI0Ljc3NDggNDguOTEwNUw3LjYwNzIxIDQwLjM4MTRMMTAuMTA4IDM1Ljg2NTFMMjcuMzk2MSA0NC40NTQzWk0zMi45Mzk3IDI0LjM5MjVMMzIuMDI3MSAyMC4wNTkxTDM0LjM2NjQgMTUuNjk0M0wzNy41ODcyIDI2LjQ5NTJMMzIuOTM5NyAyNC4zOTI1Wk0yOC4xODQ1IDMzLjk1NjFMMTcuNTcxNiAzNC42ODkxTDkuMTk4NyAzMC41OUwxMS43MTggMjYuMDQzOEwyOC4xODQ1IDMzLjk1NjFaIiBmaWxsPSIjMkMzMDM0IiBzdHJva2U9IiNGREJGMUMiIHN0cm9rZS13aWR0aD0iMC43NTYxNDQiIC8+CiAgICA8cGF0aCBkPSJNNTYuOTEwMiA0Mi4zMzJMNTYuNzg1MiA0Mi40MzM2TDI3LjQ5NjMgNDQuMzYzOUw5Ljk1NDEgMzUuNTE5NVYzNS4zNjY1TDI5LjAxMjcgMzQuMTY5TDExLjUwNjMgMjUuNTQxOEwyMC4xMDMgMTguMjY4M0wzNy45MzYgMjcuMDI5NkwzNC40Mzk1IDE0LjcwN0w1MS40OCAyMy4wNTQ5TDU2LjkxMDIgNDIuMzMyWiIgZmlsbD0iI0ZEQkYxQyIgLz4KPC9zdmc+Cg==";var cn=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.QRCodeLogo=void 0;const Bt=ie,ln=cn(ke),Dt=new Image;Dt.src=ln.default;class kt{constructor(n,o,a=Dt){this.settings=n,this.qr=o,this.img=a,this.quietModuleCount=0,this.moduleSize=0,this.dataPixels=0,this.ratio=0,this.area=0,this.imageModuleWidth=0,this.imageModuleHeight=0,this.imageModuleLeft=0,this.imageModuleTop=0,this.imageFloatModuleWidth=0,this.imageFloatModuleHeight=0,this.imageLeft=0,this.imageTop=0,this.isLoaded=!1,this.img.addEventListener("load",()=>this.process()),this.img.width>0&&this.process()}process(){var n,o;const a=(n=this.settings.quiet)!==null&&n!==void 0?n:0,c=(o=this.settings.imageEcCover)!==null&&o!==void 0?o:.5;this.isLoaded=!0,this.quietModuleCount=this.qr.moduleCount-a*2,this.moduleSize=this.settings.size/this.quietModuleCount,this.dataPixels=this.quietModuleCount*this.quietModuleCount-(49*3+25),this.ratio=this.img.width/this.img.height;const l={L:.07,M:.15,Q:.25,H:.3};this.area=l[this.settings.ecLevel]*c*this.dataPixels|0,this.imageModuleWidth=Math.min(this.quietModuleCount,Math.sqrt(this.area*this.ratio)|0),this.imageModuleHeight=this.imageModuleWidth/this.ratio|0,this.imageModuleHeight>this.quietModuleCount&&(this.imageModuleHeight=this.quietModuleCount,this.imageModuleWidth=this.imageModuleHeight*this.ratio|0),this.imageModuleLeft=this.qr.moduleCount/2-this.imageModuleWidth/2|0,this.imageModuleTop=this.qr.moduleCount/2-this.imageModuleHeight/2|0,this.imageFloatModuleWidth=Math.min(this.imageModuleWidth,this.imageModuleHeight*this.ratio)-a,this.imageFloatModuleHeight=Math.min(this.imageModuleHeight,this.imageModuleWidth/this.ratio)-a,this.imageLeft=this.imageModuleLeft+(this.imageModuleWidth-this.imageFloatModuleWidth)/2-a,this.imageTop=this.imageModuleTop+(this.imageModuleHeight-this.imageFloatModuleHeight)/2-a;const d=this.qr.isDark;this.qr.isDark=(s,m)=>this.isContains(s,m)?!1:d(s,m)}render(n){n.drawImage(this.img,this.imageLeft*this.moduleSize,this.imageTop*this.moduleSize,this.imageFloatModuleWidth*this.moduleSize,this.imageFloatModuleHeight*this.moduleSize)}isContains(n,o){return this.imageModuleLeft<=o&&o<this.imageModuleLeft+this.imageModuleWidth&&this.imageModuleTop<=n&&n<this.imageModuleTop+this.imageModuleHeight}}_e.QRCodeLogo=kt;class dn{constructor(n){var o,a,c,l;this.canvas=document.createElement("canvas"),this.rafHandler=0,this.animate=()=>{this.render(),this.rafHandler=requestAnimationFrame(this.animate)},this.qr=(0,Bt.createMinQRCode)(n.value,(o=n.ecLevel)!==null&&o!==void 0?o:"H",(a=n.minVersion)!==null&&a!==void 0?a:1,(c=n.maxVersion)!==null&&c!==void 0?c:40,(l=n.quiet)!==null&&l!==void 0?l:0),this.settings=n,this.ctx=this.canvas.getContext("2d"),this.canvas.style.width=n.size+"px",this.canvas.style.height=n.size+"px",n.size=n.size*4,this.canvas.width=n.size,this.canvas.height=n.size,n.withLogo&&(this.logo=new kt(n,this.qr,n.logo),this.logo.img.addEventListener("load",()=>this.render()))}render(){var n;this.settings.background?(this.ctx.fillStyle=this.settings.background,this.ctx.fillRect(0,0,this.settings.size,this.settings.size)):this.ctx.clearRect(0,0,this.settings.size,this.settings.size),(0,Bt.drawModules)(this.qr,this.ctx,this.settings),(n=this.logo)===null||n===void 0||n.render(this.ctx)}stopAnimate(){cancelAnimationFrame(this.rafHandler)}}_e.default=dn,function(r){var n=q&&q.__awaiter||function(s,m,I,E){function v(b){return b instanceof I?b:new I(function(p){p(b)})}return new(I||(I=Promise))(function(b,p){function g(y){try{x(E.next(y))}catch(w){p(w)}}function h(y){try{x(E.throw(y))}catch(w){p(w)}}function x(y){y.done?b(y.value):v(y.value).then(g,h)}x((E=E.apply(s,m||[])).next())})},o=q&&q.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(r,"__esModule",{value:!0}),r.lightQR=r.darkQR=r.QRCodeStrategy=r.logo=r.QRCode=void 0;const a=it,c=o(_e);r.QRCode=c.default;const l=o(ke);r.logo=l.default;class d extends a.HereStrategy{constructor(m){var I;super(),this.options=m,this.endpoint=(I=m.endpoint)!==null&&I!==void 0?I:"https://my.herewallet.app/request"}get themeConfig(){return this.options.theme==="light"?r.lightQR:r.darkQR}onRequested(m,I){return n(this,void 0,void 0,function*(){this.qrcode=new c.default(Object.assign(Object.assign(Object.assign({},this.themeConfig),this.options),{value:`${this.endpoint}/${m}`})),this.options.element.appendChild(this.qrcode.canvas),this.options.animate?this.qrcode.animate():this.qrcode.render()})}close(){var m;this.qrcode!=null&&(this.options.element.removeChild(this.qrcode.canvas),(m=this.qrcode)===null||m===void 0||m.stopAnimate())}onApproving(m){return n(this,void 0,void 0,function*(){})}onFailed(m){return n(this,void 0,void 0,function*(){this.close()})}onSuccess(m){return n(this,void 0,void 0,function*(){this.close()})}}r.QRCodeStrategy=d,r.darkQR={value:"",radius:.8,ecLevel:"H",fill:{type:"linear-gradient",position:[0,0,1,1],colorStops:[[0,"#2C3034"],[.34,"#4F5256"],[1,"#2C3034"]]},size:256,withLogo:!0,imageEcCover:.7,quiet:1},r.lightQR={value:"",radius:.8,ecLevel:"H",fill:{type:"linear-gradient",position:[.3,.3,1,1],colorStops:[[0,"#FDBF1C"],[1,"#FDA31C"]]},size:256,withLogo:!0,imageEcCover:.7,quiet:1}}(ot);const fn={},pn=`
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://rsms.me/" />
    <link rel="preconnect" href="https://fonts.cdnfonts.com/" />
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
    <link
      rel="stylesheet"
      href="https://fonts.cdnfonts.com/css/cabinet-grotesk"
    />
    <style>
body,
html {
  margin: 0;
  padding: 0;
  background: transparent;
  background: #1d1f20;
  width: 100%;
  height: 100%;
}

a {
  font-style: normal;
  font-weight: 600;
  font-size: 16px;
  line-height: 22px;
  text-decoration-line: underline;
  color: #fd84e3;
}

@supports (font-variation-settings: normal) {
  :root {
    font-family: InterVariable, sans-serif;
  }
}

*::-webkit-scrollbar {
  display: none;
}

* {
  box-sizing: border-box;
  --Stroke: #c7bab8;
  --Elevation-0: #f3ebea;
  --Elevation-1: #ebdedc;
  --Elevation-2: #d9cdcb;
  --Black-Primary: #2c3034;
  --Black-Secondary: #6b6661;
  font-family: "Inter" -apple-system BlinkMacSystemFont "Segoe UI" "Roboto" "Oxygen" "Ubuntu" "Cantarell" "Fira Sans" "Droid Sans"
    "Helvetica Neue" sans-serif;
  -webkit-tap-highlight-color: transparent;
  -webkit-tap-highlight-color: transparent;
}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.popup {
  width: 100%;
  height: 100%;
  border-radius: 16px;
  background: var(--surface-common-default, #1d1f20);
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  padding: 24px;
}

.title {
  color: var(--text-primary, #ebdedc);
  font-feature-settings: "liga" off;
  font-family: "Cabinet Grotesk";
  font-size: 24px;
  font-style: normal;
  font-weight: 800;
  line-height: normal;
  margin: 0;
}
.title span {
  color: var(--text-orange, #e9c363);
  font-feature-settings: "liga" off;
  font-family: "Cabinet Grotesk";
  font-size: 24px;
  font-style: normal;
  font-weight: 800;
  line-height: normal;
}

.qr-code {
  background: url("https://hot-labs.org/hot-widget/qr.svg");
  background-size: cover;
  background-position: 0 -14px;
  width: 280px;
  height: 280px;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}
.qr-code canvas {
  position: absolute;
  top: 70px;
  left: 70px;
}

.divider {
  color: var(--text-secondary, #ada5a4);
  font-family: Inter;
  font-size: 18px;
  font-style: normal;
  font-weight: 700;
  line-height: 22px;
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  margin-bottom: 16px;
  margin-top: -8px;
}
.divider::before,
.divider::after {
  height: 1px;
  background: var(--border-lowest, rgba(255, 255, 255, 0.07));
  content: "";
  display: block;
  flex: 1;
}

.button {
  display: flex;
  padding: 12px 16px;
  justify-content: center;
  align-items: center;
  gap: 8px;
  align-self: stretch;
  border-radius: 16px;
  border: 1px solid var(--border-high, rgba(255, 255, 255, 0.25));
  background: var(--controls-teriary-3, #ffedb2);
  box-shadow: 4px 4px 0px 0px var(--controls-primary-dark-dark, #2c3034),
    5px 5px 0px 0px var(--controls-shadow-stroke, #3d3f46);
  color: var(--text-dark-dark, #2c3034);
  text-align: center;
  font-feature-settings: "liga" off, "calt" off;
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 600;
  line-height: 20px;
  cursor: pointer;
  ouline: none;
}

.h4 {
  font-family: "Cabinet Grotesk";
  font-style: normal;
  font-weight: 800;
  font-size: 20px;
  line-height: 25px;
  color: #2c3034;
  margin: 0;
}

.close-button {
  position: absolute;
  top: 32px;
  right: 32px;
  height: 32px;
  width: 32px;
  padding: 0;
  font-family: "Inter";
  font-style: normal;
  font-weight: 600;
  font-size: 16px;
  color: #2c3034;
  border: none;
  margin: 0;
  outline: none;
  cursor: pointer;
  height: 32px;
  background: var(--surface-common-container--low, #262729);
  border-radius: 50px;
  justify-content: center;
  align-items: center;
  display: flex;
  cursor: pointer;
  transition: 0.2s opacity;
}
.close-button:hover {
  opacity: 0.7;
}
@media (max-width: 640px) {
  .close-button {
    right: 16px;
    top: 16px;
  }
}

.text {
  color: var(--text-secondary, #ada5a4);
  text-align: center;
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 500;
  line-height: 20px;
  margin: 0;
}

.text a {
  color: var(--text-blue, #6385ff);
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 600;
  line-height: 20px;
  text-decoration-line: underline;
  text-decoration-style: solid;
  text-decoration-skip-ink: auto;
  text-decoration-thickness: auto;
  text-underline-offset: auto;
  text-underline-position: from-font;
}
</style>
    <title>NEAR Connector</title>
`,hn=`
    <div class="popup">
      <h2 class="title">Approve in <span>App</span></h2>

      <div style="display: flex; gap: 12px;">
        <button class="button" style="white-space: nowrap; width: 140px; margin-top: 16px; margin-bottom: 32px" onclick="window.openMobile()">
           Open Mobile
        </button>

        <button class="button" style="white-space: nowrap; width: 140px; margin-top: 16px; margin-bottom: 32px" onclick="window.openTelegram()">
           Open Telegram
        </button>
      </div>

      <p class="text">
        Dont have a wallet?<br />
        <a target="_blank" href="https://hot-labs.org/wallet/">Get extension  iOS  Android</a>
      </p>
    </div>
`,gn=`
    <div class="popup">
      <h1 class="title" style="margin-bottom: 14px">
        Scan in <span>HOT Wallet</span>
      </h1>
      
      <div class="qr-code"></div>

      <h2 class="divider">OR</h2>
      <h2 class="title">Approve in <span>App</span></h2>

      <div style="display: flex; gap: 12px;">
        <button class="button" style="width: 240px; margin-top: 16px; margin-bottom: 32px" onclick="window.openExtension()">
           Download Extension
        </button>
      </div>

      <p class="text">
        <a style="cursor: pointer" onclick="window.openTelegram()">Open via Telegram</a>
      </p>
    </div>
`,yn=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Ot=new Image;Ot.src="https://hot-labs.org/hot-widget/icon.svg";const mn=()=>{const r=document.createElement("div");r.style.height="100%",document.body.appendChild(r),document.head.innerHTML=pn,yn()?r.innerHTML=hn:r.innerHTML=gn},Lt="https://h4n.app",vn=()=>window.crypto.randomUUID(),wn=r=>new Promise(n=>setTimeout(n,r));class En extends Error{constructor(o){super();ye(this,"name","RequestFailed");this.payload=o}}const Oe=class Oe{async getTimestamp(){const{ts:n}=await fetch("https://api0.herewallet.app/api/v1/web/time").then(a=>a.json()),o=BigInt(n)/10n**12n;return Number(o)*1e3}async getResponse(n){const o=await fetch(`${Lt}/${n}/response`,{headers:{"content-type":"application/json"},method:"GET"});if(o.ok===!1)throw Error(await o.text());const{data:a}=await o.json();return JSON.parse(a)}async computeRequestId(n){const o=window.selector.location,a=await this.getTimestamp().catch(()=>Date.now()),c=Jt(JSON.stringify({...n,deadline:a+6e4,id:vn(),$hot:!0,origin:o}));return{requestId:fn.createHash("sha1").update(c).digest("hex"),query:c}}async createRequest(n,o){const{query:a,requestId:c}=await this.computeRequestId(n),l=await fetch(`${Lt}/${c}/request`,{body:JSON.stringify({data:a}),headers:{"content-type":"application/json"},method:"POST",signal:o});if(l.ok===!1)throw Error(await l.text());return c}async request(n,o){mn();const a=document.querySelector(".qr-code");a&&(a.innerHTML=""),window.selector.ui.showIframe();const c=await this.createRequest({method:n,request:o}),l=`hotcall-${c}`,d=new ot.QRCode({value:`https://app.hot-labs.org/link?${l}`,logo:Ot,size:140,radius:.8,ecLevel:"H",fill:{type:"linear-gradient",position:[0,0,1,1],colorStops:[[0,"#fff"],[.34,"#fff"],[1,"#fff"]]},withLogo:!0,imageEcCover:.3,quiet:1});d.render(),a==null||a.appendChild(d.canvas),window.openTelegram=()=>window.selector.open(`https://t.me/hot_wallet/app?startapp=${l}`),window.openExtension=()=>window.selector.open("https://download.hot-labs.org?hotconnector"),window.openMobile=()=>window.selector.open(`hotwallet://${l}`);const s=async()=>{await wn(3e3);const I=await this.getResponse(c).catch(()=>null);if(I==null)return await s();if(I.success)return I.payload;throw new En(I.payload)};return await s()}};ye(Oe,"shared",new Oe);let Ae=Oe;class bn{constructor(){ye(this,"getAccounts",async n=>{if(n.network==="testnet")throw"HOT Wallet not supported on testnet";const o=await window.selector.storage.get("hot-account");return o?[JSON.parse(o)]:[]});ye(this,"signIn",async n=>{if(n.network==="testnet")throw"HOT Wallet not supported on testnet";const o=await Ae.shared.request("near:signIn",{});return window.selector.storage.set("hot-account",JSON.stringify(o)),[o]});ye(this,"signOut",async n=>{if(n.network==="testnet")throw"HOT Wallet not supported on testnet";await window.selector.storage.remove("hot-account")});ye(this,"signMessage",async n=>{if(n.network==="testnet")throw"HOT Wallet not supported on testnet";return await Ae.shared.request("near:signMessage",n)});ye(this,"signAndSendTransaction",async n=>{if(n.network==="testnet")throw"HOT Wallet not supported on testnet";const{transactions:o}=await Ae.shared.request("near:signAndSendTransactions",{transactions:[n]});return o[0]});ye(this,"signAndSendTransactions",async n=>{if(n.network==="testnet")throw"HOT Wallet not supported on testnet";const{transactions:o}=await Ae.shared.request("near:signAndSendTransactions",{transactions:n.transactions});return o})}}window.selector.ready(new bn)})();
